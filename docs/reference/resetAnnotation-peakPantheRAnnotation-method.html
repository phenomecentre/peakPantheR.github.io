<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Reset a peakPantheRAnnotation and alter samples and compounds
information — resetAnnotation,peakPantheRAnnotation-method • peakPantheR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Reset a peakPantheRAnnotation and alter samples and compounds
information — resetAnnotation,peakPantheRAnnotation-method" />
<meta property="og:description" content="Reset a peakPantheRAnnotation (remove results and set
isAnnotated=FALSE). If a different number of samples (
spectraPaths) or compounds (targetFeatTable) are passed, the
object will be initialised to the new size. For input values left as NULL,
the slots (filepath (from spectraPaths), ROI,
cpdID, cpdName (from targetFeatTable), uROI,
FIR, cpdMetadata, spectraMetadata, uROIExist,
useUROI and useFIR) will be filled with values from
previousAnnotation." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">peakPantheR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.5.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/getting-started.html">Getting Started with the peakPantheR package</a>
    </li>
    <li>
      <a href="../articles/parallel-annotation.html">Parallel Annotation</a>
    </li>
    <li>
      <a href="../articles/peakPantheR-GUI.html">peakPantheR Graphical User Interface</a>
    </li>
    <li>
      <a href="../articles/real-time-annotation.html">Real Time Annotation</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/phenomecentre/peakPantheR/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Reset a peakPantheRAnnotation and alter samples and compounds
information</h1>
    <small class="dont-index">Source: <a href='https://github.com/phenomecentre/peakPantheR/blob/master/R/methods_peakPantheRAnnotation.R'><code>R/methods_peakPantheRAnnotation.R</code></a></small>
    <div class="hidden name"><code>resetAnnotation-peakPantheRAnnotation-method.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Reset a peakPantheRAnnotation (remove results and set
<code>isAnnotated=FALSE</code>). If a different number of samples (
<code>spectraPaths</code>) or compounds (<code>targetFeatTable</code>) are passed, the
object will be initialised to the new size. For input values left as NULL,
the slots (<code>filepath</code> (from <code>spectraPaths</code>), <code>ROI</code>,
<code>cpdID</code>, <code>cpdName</code> (from <code>targetFeatTable</code>), <code>uROI</code>,
<code>FIR</code>, <code>cpdMetadata</code>, <code>spectraMetadata</code>, <code>uROIExist</code>,
<code>useUROI</code> and <code>useFIR</code>) will be filled with values from
<code>previousAnnotation</code>.</p>
    </div>

    <pre class="usage"><span class='co'># S4 method for peakPantheRAnnotation</span>
<span class='fu'>resetAnnotation</span><span class='op'>(</span>
    <span class='va'>previousAnnotation</span>,
    spectraPaths <span class='op'>=</span> <span class='cn'>NULL</span>,
    targetFeatTable <span class='op'>=</span> <span class='cn'>NULL</span>,
    uROI <span class='op'>=</span> <span class='cn'>NULL</span>,
    FIR <span class='op'>=</span> <span class='cn'>NULL</span>,
    cpdMetadata <span class='op'>=</span> <span class='cn'>NULL</span>,
    spectraMetadata <span class='op'>=</span> <span class='cn'>NULL</span>,
    uROIExist <span class='op'>=</span> <span class='cn'>NULL</span>,
    useUROI <span class='op'>=</span> <span class='cn'>NULL</span>,
    useFIR <span class='op'>=</span> <span class='cn'>NULL</span>,
    verbose <span class='op'>=</span> <span class='cn'>TRUE</span>,
    <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>previousAnnotation</th>
      <td><p>(peakPantheRAnnotation) object to reset</p></td>
    </tr>
    <tr>
      <th>spectraPaths</th>
      <td><p>NULL or a character vector of spectra file paths, to set
samples to process</p></td>
    </tr>
    <tr>
      <th>targetFeatTable</th>
      <td><p>NULL or a <code><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></code> of compounds to
target as rows and parameters as columns: <code>cpdID</code> (str), <code>cpdName</code>
(str), <code>rtMin</code> (float in seconds), <code>rt</code> (float in seconds, or
<em>NA</em>), <code>rtMax</code> (float in seconds), <code>mzMin</code> (float), <code>mz</code>
(float or <em>NA</em>), <code>mzMax</code> (float). Set compounds to target.</p></td>
    </tr>
    <tr>
      <th>uROI</th>
      <td><p>NULL or a data.frame of updated Regions Of Interest (uROI) with
compounds as row and uROI parameters as columns: <code>rtMin</code> (float in
seconds), <code>rt</code> (float in seconds, or <em>NA</em>), <code>rtMax</code> (float in
seconds), <code>mzMin</code> (float), <code>mz</code> (float or <em>NA</em>), <code>mzMax</code>
(float).</p></td>
    </tr>
    <tr>
      <th>FIR</th>
      <td><p>NULL or a data.frame of Fallback Integration Regions (FIR) with
compounds as row and FIR parameters as columns: <code>rtMin</code> (float in
seconds), <code>rtMax</code> (float in seconds), <code>mzMin</code> (float), <code>mzMax</code>
(float).</p></td>
    </tr>
    <tr>
      <th>cpdMetadata</th>
      <td><p>NULL or a data.frame of compound metadata, with compounds
as row and metadata as columns</p></td>
    </tr>
    <tr>
      <th>spectraMetadata</th>
      <td><p>NULL or a data.frame of sample metadata, with samples
as row and metadata as columns</p></td>
    </tr>
    <tr>
      <th>uROIExist</th>
      <td><p>NULL or a logical stating if uROI have been set</p></td>
    </tr>
    <tr>
      <th>useUROI</th>
      <td><p>NULL or a logical stating if uROI are to be used</p></td>
    </tr>
    <tr>
      <th>useFIR</th>
      <td><p>NULL or a logical stating if FIR are to be used</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>(bool) If TRUE message progress</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional slots and values to set when resetting the object
(<code>cpdID</code>, <code>cpdName</code>, <code>ROI</code>, <code>filepath</code>, <code>TIC</code>,
<code>acquisitionTime</code>, <code>peakTables</code>, <code>dataPoints</code>, <code>peakFit</code>)</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>(peakPantheRAnnotation) object reset with previous results removed
and slots updated</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/ns-load.html'>requireNamespace</a></span><span class='op'>(</span><span class='st'>'faahKO'</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
<span class='co'>## Initialise a peakPantheRAnnotation object with 3 samples and 2 targeted</span>
<span class='co'>## compounds</span>

<span class='co'># Paths to spectra files</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://dx.doi.org/10.1021/bi0480335'>faahKO</a></span><span class='op'>)</span>
<span class='va'>spectraPaths</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>'cdf/KO/ko15.CDF'</span>, package <span class='op'>=</span> <span class='st'>'faahKO'</span><span class='op'>)</span>,
                    <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>'cdf/KO/ko16.CDF'</span>, package <span class='op'>=</span> <span class='st'>'faahKO'</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># targetFeatTable</span>
<span class='va'>targetFeatTable</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/vector.html'>vector</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='fl'>2</span>, <span class='fl'>8</span>, dimnames<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>)</span>,
                    <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'cpdID'</span>,<span class='st'>'cpdName'</span>,<span class='st'>'rtMin'</span>,<span class='st'>'rt'</span>,<span class='st'>'rtMax'</span>,<span class='st'>'mzMin'</span>,<span class='st'>'mz'</span>,
                    <span class='st'>'mzMax'</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>, stringsAsFactors<span class='op'>=</span><span class='cn'>FALSE</span><span class='op'>)</span>
<span class='va'>targetFeatTable</span><span class='op'>[</span><span class='fl'>1</span>,<span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'ID-1'</span>, <span class='st'>'Cpd 1'</span>, <span class='fl'>3310.</span>, <span class='fl'>3344.888</span>, <span class='fl'>3390.</span>, <span class='fl'>522.194778</span>,
                        <span class='fl'>522.2</span>, <span class='fl'>522.205222</span><span class='op'>)</span>
<span class='va'>targetFeatTable</span><span class='op'>[</span><span class='fl'>2</span>,<span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'ID-2'</span>, <span class='st'>'Cpd 2'</span>, <span class='fl'>3280.</span>, <span class='fl'>3385.577</span>, <span class='fl'>3440.</span>, <span class='fl'>496.195038</span>,
                        <span class='fl'>496.2</span>, <span class='fl'>496.204962</span><span class='op'>)</span>
<span class='va'>targetFeatTable</span><span class='op'>[</span>,<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span><span class='op'>:</span><span class='fl'>8</span><span class='op'>)</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>vapply</a></span><span class='op'>(</span><span class='va'>targetFeatTable</span><span class='op'>[</span>,<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span><span class='op'>:</span><span class='fl'>8</span><span class='op'>)</span><span class='op'>]</span>, <span class='va'>as.numeric</span>,
                                    FUN.VALUE<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>numeric</a></span><span class='op'>(</span><span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>smallAnnotation</span>  <span class='op'>&lt;-</span> <span class='fu'><a href='peakPantheRAnnotation.html'>peakPantheRAnnotation</a></span><span class='op'>(</span>spectraPaths<span class='op'>=</span><span class='va'>spectraPaths</span>, 
                                        targetFeatTable<span class='op'>=</span><span class='va'>targetFeatTable</span><span class='op'>)</span>
<span class='va'>smallAnnotation</span>
<span class='co'># An object of class peakPantheRAnnotation</span>
<span class='co'>#  2 compounds in 2 samples.</span>
<span class='co'>#  updated ROI do not exist (uROI)</span>
<span class='co'>#  does not use updated ROI (uROI)</span>
<span class='co'>#  does not use fallback integration regions (FIR)</span>
<span class='co'>#  is not annotated</span>

<span class='co'># Reset and change number of spectra</span>
<span class='va'>newSpectraPaths</span>  <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>'cdf/KO/ko15.CDF'</span>, package <span class='op'>=</span> <span class='st'>'faahKO'</span><span class='op'>)</span>,
                    <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>'cdf/KO/ko16.CDF'</span>, package <span class='op'>=</span> <span class='st'>'faahKO'</span><span class='op'>)</span>,
                    <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>'cdf/KO/ko18.CDF'</span>, package <span class='op'>=</span> <span class='st'>'faahKO'</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>largerAnnotation</span> <span class='op'>&lt;-</span> <span class='fu'>resetAnnotation</span><span class='op'>(</span><span class='va'>smallAnnotation</span>,
                                    spectraPaths<span class='op'>=</span><span class='va'>newSpectraPaths</span>,
                                    verbose<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
<span class='va'>largerAnnotation</span>
<span class='co'># An object of class peakPantheRAnnotation</span>
<span class='co'>#  2 compounds in 3 samples.</span>
<span class='co'>#  updated ROI do not exist (uROI)</span>
<span class='co'>#  does not use updated ROI (uROI)</span>
<span class='co'>#  does not use fallback integration regions (FIR)</span>
<span class='co'>#  is not annotated</span>
<span class='op'>}</span>
</div><div class='output co'>#&gt; <span class='message'>peakPantheRAnnotation object being reset:</span></div><div class='output co'>#&gt; <span class='message'>  Previous "ROI", "cpdID" and "cpdName" value kept</span></div><div class='output co'>#&gt; <span class='message'>  Previous "uROI" value kept</span></div><div class='output co'>#&gt; <span class='message'>  Previous "FIR" value kept</span></div><div class='output co'>#&gt; <span class='message'>  Previous "cpdMetadata" value kept</span></div><div class='output co'>#&gt; <span class='message'>  New "spectraPaths" value set</span></div><div class='output co'>#&gt; <span class='message'>  Targeted spectra changed, previous "spectraMetadata" cannot be kept and set to default</span></div><div class='output co'>#&gt; <span class='message'>  Previous "uROIExist" value kept</span></div><div class='output co'>#&gt; <span class='message'>  Previous "useUROI" value kept</span></div><div class='output co'>#&gt; <span class='message'>  Previous "useFIR" value kept</span></div><div class='output co'>#&gt; An object of class peakPantheRAnnotation
#&gt;  2 compounds in 3 samples. 
#&gt;   updated ROI do not exist (uROI)
#&gt;   does not use updated ROI (uROI)
#&gt;   does not use fallback integration regions (FIR)
#&gt;   is not annotated</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Arnaud Wolfer, Goncalo Correia.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


